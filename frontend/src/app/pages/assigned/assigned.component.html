<div class="container" *ngIf="requests">
  <div class="row" *ngIf="!requests.length">
    <div class="header-content">
      <div class="header-content-inner text-center">
        <h1 id="homeHeading">You haven`t assigned requests!</h1>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="requests.length">
    <div class="col-lg-12">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="panel-title">Requests</h2>
        </div>
        <div class="panel-body">
          <table class="table table-bordered table-hover table-striped">
            <thead>
            <tr>
              <th>Title</th>
              <th>Creation Date</th>
              <th>Priority</th>
              <th>Progress</th>
              <th>Reporter</th>
              <th></th>
            </tr>
            </thead>
            <tbody id="list">
            <tr *ngFor="let req of requests">
              <td><a [routerLink]="['/request', req.id]">{{ req.title }}</a></td>
              <td>
                <date-parse [date]="req.dateOfCreation"></date-parse>
              </td>
              <td>{{req.priorityStatus.name}}</td>
              <td>{{req.progressStatus.name}}</td>
              <td>
                <a [routerLink]="['/user', req.reporter.id]">{{req.reporter.firstName}} {{req.reporter.lastName}}</a>
              </td>
              <td class="assign">
                <button class="center-block btn btn-success" (click)="close(req)">Close</button>
              </td>
            </tr>
            </tbody>
          </table>
          <ul class="pagination pull-right">
            <li class="paginate_button active" (click)="load($event)"><a>1</a></li>
            <li class="paginate_button" (click)="load($event)" *ngFor="let item of createRange(pageCount)">
              <a>{{item}}</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<close-request [requests]="requests" (updated)="updateRequests($event)"></close-request>
